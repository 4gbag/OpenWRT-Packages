webpackJsonp([5],{"/nOM":function(t,e){},"0EBt":function(t,e){},"0Zpu":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("J7JO"),s=n("po9y"),a=n("uscc"),o=n("bAPZ"),r=n("hNqL"),c=n("c27y"),l={mqtt:{"#":function(t,e){console.log("topic: "+e+", msg: "+t),this.$store.dispatch("mqttMessage",{topic:e,data:t})}},name:"ConsoleFrame",data:function(){return{aboutActive:!1}},components:{TaskBar:i.default,AppView:s.default,LoginView:a.default,SetupView:o.default,Toast:r.default,About:c.default},created:function(){this.$mqtt.subscribe("/console/+");var t=function(t){t&&"offline"===t.type?this.$store.commit("updateInternetStatus",!1):this.$store.dispatch("checkInternet")}.bind(this);t(),window.addEventListener("online",t),window.addEventListener("offline",t),this.$store.dispatch("launchApp",{appId:"launcher"}),this.$store.dispatch("getDeviceInfo"),this.$store.dispatch("initCDK"),this.$store.dispatch("refreshAppList")}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"consoleframe"},[n("TaskBar",{attrs:{id:"taskbar","solid-bg":"launcher"!==t.$store.getters.activeApp},on:{about:function(e){t.aboutActive=!0}}}),t._v(" "),n("AppView"),t._v(" "),n("LoginView"),t._v(" "),n("SetupView"),t._v(" "),n("Toast"),t._v(" "),n("About",{attrs:{active:t.aboutActive},on:{close:function(e){t.aboutActive=!1}}}),t._v(" "),n("iframe",{attrs:{id:"gaFrame",src:"http://s3-us-west-2.amazonaws.com/onion-cdn/os/GA/index.html"}})],1)},staticRenderFns:[]};var u=n("VU/8")(l,d,!1,function(t){n("4jyK")},"data-v-4faf7641",null);e.default=u.exports},"4jyK":function(t,e){},"7JcZ":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTIuMDEgMjEuNDlMMjMuNjQgN2MtLjQ1LS4zNC00LjkzLTQtMTEuNjQtNEM1LjI4IDMgLjgxIDYuNjYuMzYgN2wxMS42MyAxNC40OS4wMS4wMS4wMS0uMDF6Ii8+PHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg=="},"B4+s":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTIwLjUgOS41Yy4yOCAwIC41NS4wNC44MS4wOEwyNCA2Yy0zLjM0LTIuNTEtNy41LTQtMTItNFMzLjM0IDMuNDkgMCA2bDEyIDE2IDMuNS00LjY3VjE0LjVjMC0yLjc2IDIuMjQtNSA1LTV6TTIzIDE2di0xLjVjMC0xLjM4LTEuMTItMi41LTIuNS0yLjVTMTggMTMuMTIgMTggMTQuNVYxNmMtLjU1IDAtMSAuNDUtMSAxdjRjMCAuNTUuNDUgMSAxIDFoNWMuNTUgMCAxLS40NSAxLTF2LTRjMC0uNTUtLjQ1LTEtMS0xem0tMSAwaC0zdi0xLjVjMC0uODMuNjctMS41IDEuNS0xLjVzMS41LjY3IDEuNSAxLjVWMTZ6Ii8+PC9zdmc+"},Dwvv:function(t,e){},E4d3:function(t,e,n){var i={"./About":["c27y"],"./About.vue":["c27y"],"./AppLauncher":["LyiH",2],"./AppLauncher.vue":["LyiH",2],"./AppManagerApp":["pNZA",0],"./AppManagerApp.vue":["pNZA",0],"./AppView":["po9y"],"./AppView.vue":["po9y"],"./ConsoleFrame":["0Zpu"],"./ConsoleFrame.vue":["0Zpu"],"./ExternalApp":["//Yz",1],"./ExternalApp.vue":["//Yz",1],"./IframeApp":["xSqd"],"./IframeApp.vue":["xSqd"],"./LoginForm":["gosb"],"./LoginForm.vue":["gosb"],"./LoginView":["uscc"],"./LoginView.vue":["uscc"],"./PreferencesApp":["9P2q",3],"./PreferencesApp.vue":["9P2q",3],"./SetupView":["bAPZ"],"./SetupView.vue":["bAPZ"],"./SoftwareUpgrade":["KDLF"],"./SoftwareUpgrade.vue":["KDLF"],"./TaskBar":["J7JO"],"./TaskBar.vue":["J7JO"],"./Toast":["hNqL"],"./Toast.vue":["hNqL"],"./WifiClientConfig":["xtvL"],"./WifiClientConfig.vue":["xtvL"]};function s(t){var e=i[t];return e?Promise.all(e.slice(1).map(n.e)).then(function(){return n(e[0])}):Promise.reject(new Error("Cannot find module '"+t+"'."))}s.keys=function(){return Object.keys(i)},s.id="E4d3",t.exports=s},IbZh:function(t,e){},J7JO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"TaskBar",props:{solidBg:!0},data:function(){return{hoverApp:""}},methods:{onHome:function(){this.$store.dispatch("launchApp",{appId:"launcher"})},openApp:function(t){this.$store.dispatch("launchApp",{appId:t})},closeApp:function(t){console.log(t),this.$store.dispatch("closeApp",{appId:t}),window.event.cancelBubble="true",this.hoverApp=""},logout:function(){this.$store.dispatch("logout",{})},about:function(){this.$emit("about")}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"taskbar barAlign",class:{solidBg:t.solidBg}},[n("div",{staticClass:"taskBarStart barAlign"},[n("div",{staticClass:"starticon c-hand",on:{click:t.onHome}},[n("img",{attrs:{src:"static/img/icons/onion.svg",alt:""}})])]),t._v(" "),n("div",{staticClass:"taskBarBody barAlign"},t._l(t.$store.getters.runningApps,function(e){return n("div",{key:e.id,staticClass:"appIconContainer tooltip tooltip-dir",attrs:{"data-tooltip":e.name},on:{click:function(n){t.openApp(e.id)},mouseover:function(n){t.hoverApp=e.id},mouseout:function(e){t.hoverApp=""}}},[n("img",{staticClass:"appIcon",attrs:{src:e.icon}}),t._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:t.hoverApp===e.id,expression:"hoverApp === app.id"}],staticClass:"icon icon-cross closeBtn c-hand",on:{click:function(n){t.closeApp(e.id)}}})])})),t._v(" "),n("div",{staticClass:"taskBarEnd barAlign"},[t.$store.getters.isOnline?t._e():n("div",{staticClass:"tooltip tooltip-dir",attrs:{"data-tooltip":"No Internet. Some Apps may not work"}},[n("i",{staticClass:"icon icon-stop no-wifi-icon"})]),t._v(" "),n("div",{staticClass:"tooltip tooltip-dir",attrs:{"data-tooltip":"About"},on:{click:t.about}},[n("i",{staticClass:"icon icon-message taskbar-icon c-hand"})]),t._v(" "),n("div",{staticClass:"tooltip tooltip-dir",attrs:{"data-tooltip":"Logout"},on:{click:t.logout}},[n("i",{staticClass:"icon icon-shutdown taskbar-icon c-hand"})])])])},staticRenderFns:[]};var a=n("VU/8")(i,s,!1,function(t){n("Dwvv")},"data-v-2001fef7",null);e.default=a.exports},KDLF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("//Fk"),s=n.n(i),a={name:"SoftwareUpgrade",data:function(){return{upgradeInfo:{},view:{isLoading:!0,bShowTable:!1,bUpgradeButton:!1,bProgressBar:!1,msg:"",labelText:"",progress:{value:0,max:100}},interval:{install:65}}},computed:{currentFirmware:function(){return this.upgradeInfo.device?this.upgradeInfo.device.version+" (b"+this.upgradeInfo.device.build+")":"X (bY)"},latestFirmware:function(){return this.upgradeInfo.repo?this.upgradeInfo.repo.version+" (b"+this.upgradeInfo.repo.build+")":"Z (bA)"},progressPercent:function(){return Math.round(100*this.view.progress.value/this.view.progress.max)}},methods:{setView:function(t){switch(t){case"check":this.view.isLoading=!0,this.view.bUpgradeButton=!1,this.view.bProgressBar=!1,this.view.msg="Checking if updates are available",this.view.img=null;break;case"needUpdate":this.view.isLoading=!1,this.view.bUpgradeButton=!0,this.view.msg="<strong>New firmware is available!</strong><br>Update your Omega to the latest and greatest firmware to get all the newest software goodies from Onion.",this.view.labelText="Your Omega will download and install the latest firmware, this process will take about 5 minutes.<br>It's important that you <strong>do NOT unplug your Omega during the update</strong>!",this.view.img=null;break;case"onLatest":this.view.isLoading=!1,this.view.bUpgradeButton=!1,this.view.msg="Great, you are on the latest version, no updates required!",this.view.img=null,this.$emit("next");break;case"downloading":this.view.isLoading=!0,this.view.bUpgradeButton=!1,this.view.bProgressBar=!0,this.view.msg="Downloading updates, <strong>do NOT unplug your Omega!</strong>",this.view.labelText="",this.view.img=null;break;case"installing":this.view.isLoading=!0,this.view.bUpgradeButton=!1,this.view.bProgressBar=!0,this.view.msg="Installing updates, <strong>do NOT unplug your Omega!</strong>",this.view.img=null;break;case"rebooting":this.view.isLoading=!0,this.view.bUpgradeButton=!1,this.view.bProgressBar=!1,this.view.msg="Omega is now <strong>initializing, do NOT unplug your Omega!</strong><br><br>Press Continue when your Omega stops blinking and remains on.",this.view.img="static/img/omega2_led.gif",this.$emit("next")}},setProgressBarMax:function(t){this.view.progress.max=t},setProgressBarValue:function(t){this.view.progress.value=t},upgrade:function(){var t=this;this.$store.dispatch("setInitialSetup",{value:0}).then(function(){return t.downloadFirmware()}).then(function(){return t.installFirmware()}).then(function(){t.setView("rebooting")})},downloadFirmware:function(){return new s.a(function(t,e){var n=this;this.setView("downloading"),this.$store.dispatch("handleScript",{code:"wget -O "+this.upgradeInfo.image.local+" "+this.upgradeInfo.image.url+" "}).then(function(e){n.$store.dispatch("waitProcess",{pid:e.pid}).then(function(){console.log("download complete"),clearInterval(i),t()})}),this.setProgressBarValue(0),this.setProgressBarMax(this.upgradeInfo.image.size);var i=setInterval(function(){var t=this;this.$store.dispatch("request",{object:"file",method:"stat",params:{path:this.upgradeInfo.image.local}}).then(function(e){t.setProgressBarValue(e.size)})}.bind(this),250)}.bind(this))},installFirmware:function(){return new s.a(function(t,e){var n=this;this.setView("installing"),this.$store.dispatch("handleScript",{code:"sleep 1; sysupgrade "+this.upgradeInfo.image.local}).then(function(){var e=0;n.setProgressBarValue(e),n.setProgressBarMax(n.interval.install);var i=setInterval(function(){this.setProgressBarValue(e++)}.bind(n),1e3);setTimeout(function(){clearInterval(i),t()},1e3*(n.interval.install+5))})}.bind(this))}},created:function(){var t=this;this.setView("check"),this.$store.dispatch("request",{object:"onion",method:"oupgrade",params:{params:{check:""}}}).then(function(e){t.upgradeInfo=e,t.upgradeInfo.upgrade?t.setView("needUpdate"):t.setView("onLatest")})}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.view.isLoading,expression:"view.isLoading"}],staticClass:"loading loading-lg upgrade-loading"}),t._v(" "),n("div",{staticClass:"upgrade-message",domProps:{innerHTML:t._s(t.view.msg)}}),t._v(" "),t.view.img?n("img",{attrs:{src:t.view.img}}):t._e(),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.view.bProgressBar,expression:"view.bProgressBar"}],staticClass:"bar progress-bar"},[n("div",{staticClass:"bar-item",style:{width:t.progressPercent+"%"}})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.view.isLoading,expression:"!view.isLoading"}],staticClass:"container"},[n("table",{directives:[{name:"show",rawName:"v-show",value:t.view.bShowTable,expression:"view.bShowTable"}],staticClass:"table"},[n("tbody",[n("tr",[n("td",[t._v("Current Firmware")]),t._v(" "),n("td",[t._v(t._s(t.currentFirmware))])]),t._v(" "),n("tr",[n("td",[t._v("Latest Firmware")]),t._v(" "),n("td",[t._v(t._s(t.latestFirmware))])])])]),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:t.view.bUpgradeButton,expression:"view.bUpgradeButton"}],staticClass:"btn btn-success upgrade-btn",on:{click:t.upgrade}},[t._v("Update Now")])]),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.view.labelText.length>0,expression:"view.labelText.length > 0"}],staticClass:"label message-box",domProps:{innerHTML:t._s(t.view.labelText)}})])},staticRenderFns:[]};var r=n("VU/8")(a,o,!1,function(t){n("eb1p")},"data-v-28c37eb9",null);e.default=r.exports},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),s=(n("i8c9"),n("Wq+4"),n("G0B7")),a=n.n(s),o=n("BO1k"),r=n.n(o),c=n("//Fk"),l=n.n(c),d=n("mvHQ"),u=n.n(d),p=n("NYxO"),v=n("mtWM"),m=n.n(v);m.a.defaults.headers.post["Content-Type"]="application/json";var h=function(t,e,n,i,s){return new l.a(function(a,o){m.a.post(t,{jsonrpc:"2.0",id:0,method:"call",params:[e,n,i,s]}).then(function(t){t.data&&(t.data.result&&Array.isArray(t.data.result)&&void 0!==t.data.result[0]&&0===t.data.result[0]?a(t.data.result[1]):(console.log("ubus error!"),t.data.error?o(t.data.error):t.data.result&&Array.isArray(t.data.result)&&void 0!==t.data.result[0]&&o(t.data.result[0])))}).catch(function(t){console.error(t),o(t)})})},f={AccessDenied:-32002},g=function(){!function(t,e){var n=t.amplitude||{_q:[],_iq:{}},i=e.createElement("script");i.type="text/javascript",i.async=!0,i.src="https://cdn.amplitude.com/libs/amplitude-4.2.1-min.gz.js",i.onload=function(){t.amplitude.runQueuedFunctions?t.amplitude.runQueuedFunctions():console.log("[Amplitude] Error: could not load SDK")};var s=e.getElementsByTagName("script")[0];function a(t,e){t.prototype[e]=function(){return this._q.push([e].concat(Array.prototype.slice.call(arguments,0))),this}}s.parentNode.insertBefore(i,s);for(var o=function(){return this._q=[],this},r=["add","append","clearAll","prepend","set","setOnce","unset"],c=0;c<r.length;c++)a(o,r[c]);n.Identify=o;for(var l=function(){return this._q=[],this},d=["setProductId","setQuantity","setPrice","setRevenueType","setEventProperties"],u=0;u<d.length;u++)a(l,d[u]);n.Revenue=l;var p=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId","setGlobalUserProperties","identify","clearUserProperties","setGroup","logRevenueV2","regenerateDeviceId","logEventWithTimestamp","logEventWithGroups","setSessionId","resetSessionId"];function v(t){function e(e){t[e]=function(){t._q.push([e].concat(Array.prototype.slice.call(arguments,0)))}}for(var n=0;n<p.length;n++)e(p[n])}v(n),n.getInstance=function(t){return t=(t&&0!==t.length?t:"$default_instance").toLowerCase(),n._iq.hasOwnProperty(t)||(n._iq[t]={_q:[]},v(n._iq[t])),n._iq[t]},t.amplitude=n}(window,document),window.amplitude.getInstance().init("285e8dd4e223767a74f3dd0d8ab990ae")},w=function(t,e){window.amplitude.getInstance().logEvent(t,e)},b=n("4P7o"),_=n.n(b);i.a.use(p.a),window.console.makeId=function(){return Math.random().toString(36).substring(2)};Object({NODE_ENV:"production"}).DEV_HOST;var C=""+window.location.hostname,k="00000000000000000000000000000000",y=new p.a.Store({state:{system:{online:!1,initialSetup:!1},device:{},rpc:{username:"",password:"",token:sessionStorage.getItem("_onion_console_session_token")||k,url:"http://"+window.location.hostname+"/ubus",heartbeatHandel:null},mqtt:{subscription:{}},apps:{active:"launcher",running:[],available:{launcher:{id:"launcher",type:"AppLauncher",name:"Launcher",background:!0}}},appsDefault:{active:"launcher",running:[],available:{launcher:{id:"launcher",type:"AppLauncher",name:"Launcher",background:!0},"doc-app":{id:"doc-app",type:"IframeApp",name:"Onion Docs",icon:"static/img/icons/docs.svg",params:{url:"https://docs.onion.io",internet:!0}},"terminal-app":{id:"terminal-app",type:"IframeApp",name:"Terminal",icon:"static/img/icons/terminal.svg",params:{url:"http://"+window.location.hostname+":4200"}},"app-manager-app":{id:"app-manager-app",type:"AppManagerApp",name:"App Manager",icon:"static/img/icons/store.svg"}}}},mutations:{initialSetup:function(t,e){t.system.initialSetup=e},registerUser:function(t,e){var n=e.username,i=e.password;t.rpc.username=n,t.rpc.password=i},registerSession:function(t,e){e?(t.rpc.token=e,sessionStorage.setItem("_onion_console_session_token",e)):(t.rpc.token=k,sessionStorage.removeItem("_onion_console_session_token"))},registerAppHandler:function(t,e,n){},launchApp:function(t,e){for(var s=t.apps.available[e],a=!1,o=0;o<t.apps.running.length;o++){if(t.apps.running[o].id===s.id){a=!0;break}}a||(t.apps.running.push(s),"IframeApp"!==s.type&&i.a.component(s.type,function(){return n("E4d3")("./"+s.type)}),"launcher"!==e&&w("App - Open",{app:e})),t.apps.active=e},closeApp:function(t,e){for(var n=0;n<t.apps.running.length;n++){if(t.apps.running[n].id===e){t.apps.running.splice(n,1);break}}},updateInternetStatus:function(t,e){t.system.online=e},mqttSubscribe:function(t,e){var n=e.appUid,i=e.topic;i in t.mqtt.subscription?t.mqtt.subscription[i].push(n):t.mqtt.subscription[i]=[n]},deviceInfo:function(t,e){t.device=e},updateAppList:function(t,e){var n=JSON.parse(u()(t.appsDefault.available));i.a.set(t.apps,"available",n);for(var s=0;s<e.length;s++){var a=e[s];a.type=a.type||"IframeApp",a.icon="http://"+C+"/apps/"+a.id+"/"+a.icon,a.params=a.params||{},"IframeApp"===a.type&&void 0===a.params.url&&(a.params.url="http://"+C+"/apps/"+a.id),a.params.url=a.params.url.replace("{{host}}",C),i.a.set(t.apps.available,a.id,a)}}},actions:{checkInitialSetup:function(t){var e=t.commit;t.dispatch;return new l.a(function(t,n){m.a.get("http://"+window.location.hostname+"/cgi-bin/setup").then(function(n){null!==n.data.initialSetup&&e("initialSetup",n.data.initialSetup),t()})})},setInitialSetup:function(t,e){t.commit;var n=t.dispatch,i=e.value;return new l.a(function(t,e){n("request",{object:"uci",method:"set",params:{config:"onion",section:"console",values:{setup:1===i?"0":"1"}}}).then(function(){n("request",{object:"uci",method:"commit",params:{config:"onion"}}).then(t)})})},login:function(t,e){var n=t.commit,i=t.state,s=t.dispatch,a=e.username,o=e.password;return new l.a(function(t,e){h(i.rpc.url,i.rpc.token,"session","login",{username:a,password:o}).then(function(e){n("registerUser",{username:a,password:o}),n("registerSession",e.ubus_rpc_session),s("getDeviceInfo"),s("refreshAppList"),s("startHeartbeat"),t(e)}).catch(function(t){console.log("login failed"),e(t)})})},logout:function(t){var e=t.commit;e("registerUser",{username:"",password:""}),e("registerSession",null)},getDeviceInfo:function(t){var e=t.commit,n=(t.state,t.dispatch);if(t.getters.isAuthenticated){var i=n("request",{object:"system",method:"board",params:{}}),s=n("request",{object:"network.device",method:"status",params:{}}),a=n("request",{object:"uci",method:"get",params:{config:"onion",section:"@onion[0]"}});l.a.all([i,s,a]).then(function(t){var n=t[0];n.mac={ra0:t[1].ra0.macaddr,apcli0:t[1].apcli0.macaddr,eth0:t[1].eth0.macaddr},n.firmware={build:t[2].values.build,version:t[2].values.version},e("deviceInfo",n),w("OnionOS - Login",n)})}},request:function(t,e){t.commit;var n=t.state,i=t.dispatch,s=t.getters,a=e.object,o=e.method,r=e.params;return new l.a(function(t,e){s.isAuthenticated?h(n.rpc.url,n.rpc.token,a,o,r).then(function(e){t(e)}).catch(function(t){console.log(t),t&&t.code===f.AccessDenied&&(i("logout"),console.log("Session expired")),e(t)}):e(Error("Not authenticated"))})},launchApp:function(t,e){(0,t.commit)("launchApp",e.appId)},closeApp:function(t,e){var n=t.commit;t.state;n("closeApp",e.appId),n("launchApp","launcher")},notifyApp:function(t,e){t.commit;var n=e.appUid,i=e.eventId,s=e.data;console.log("on notify app");var a=new Event("app-"+n);a.data={content:s},a.name=i,window.dispatchEvent(a)},checkInternet:function(t){var e=t.commit;_()().then(function(t){e("updateInternetStatus",t)})},initCDK:function(t){var e=t.dispatch;window.addEventListener("message",function(t){var n=t.data;if(void 0!==n.event&&void 0!==n.instance&&void 0!==n.eventId&&void 0!==n.content&&n.event.indexOf("Onion.CDK")>-1)switch(n.event.replace("Onion.CDK.","")){case"Service":e("handleService",n).then(function(t){var e=new Event("app-"+n.instance);e.data={content:{command:n.content.command,name:n.content.service,result:t}},e.name=n.event,window.dispatchEvent(e)});break;case"Subscribe":e("mqttSubscribe",{topic:n.content.topic,appUid:n.instance});break;case"Command":e("handleCommand",{cmd:n.content.cmd,params:n.content.params}).then(function(t){e("notifyApp",{appUid:n.instance,eventId:"Onion.CDK.Command",data:{cmd:n.content.cmd,resp:t.stdout}})});break;case"Toast":console.toast(n.content.message);break;default:console.log("unrecognized CDK event: "+n.event)}},!1)},handleService:function(t,e){var n=t.dispatch;return new l.a(function(t,i){"start"===e.content.command||"stop"===e.content.command?n("request",{object:"file",method:"exec",params:{command:"/etc/init.d/"+e.content.service,params:[e.content.command]}}).then(function(e){t(!0)}).catch(function(e){t(!1)}):"list"===e.content.command?n("serviceStatus").then(function(n){n[e.content.service]?t(!0):t(!1)}):i(Error("Invalid input"))})},serviceStatus:function(t){return(0,t.dispatch)("request",{object:"service",method:"list",params:{}})},readFile:function(t,e){return(0,t.dispatch)("request",{object:"file",method:"read",params:{path:e.path}})},handleCommand:function(t,e){return(0,t.dispatch)("request",{object:"file",method:"exec",params:{command:e.cmd,params:e.params}})},handleScript:function(t,e){var n=t.dispatch,i=e.code,s="/tmp/oos-"+console.makeId()+".sh";return n("request",{object:"file",method:"write",params:{path:s,data:i}}).then(function(t){var e=n("request",{object:"onion-helper",method:"background",params:{command:"sh",params:[s]}});return e.finally(function(){n("request",{object:"file",method:"exec",params:{command:"rm",params:[s]}}).then(console.log)}),e})},waitProcess:function(t,e){var n=t.dispatch,i=e.pid;return new l.a(function(t,e){var s=setInterval(function(){n("request",{object:"file",method:"exec",params:{command:"ls",params:["/proc/"+i+"/stat"]}}).then(function(e){1===e.code&&(clearInterval(s),t())})},1e3)})},mqttSubscribe:function(t,e){var n=t.commit;t.dispatch;n("mqttSubscribe",{appUid:e.appUid,topic:e.topic})},mqttMessage:function(t,e){var n=t.state,i=e.topic,s=e.data;if(i in n.mqtt.subscription){var a=!0,o=!1,c=void 0;try{for(var l,d=r()(n.mqtt.subscription[i]);!(a=(l=d.next()).done);a=!0){var u=l.value,p=new Event("app-"+u);p.data={content:{topic:i,content:s.toString()}},p.name="Onion.CDK.Message",window.dispatchEvent(p)}}catch(t){o=!0,c=t}finally{try{!a&&d.return&&d.return()}finally{if(o)throw c}}}},refreshAppList:function(t){var e=t.getters,n=t.commit,i=(t.state,t.dispatch);console.log("on refresh apps"),e.isAuthenticated&&i("request",{object:"onion-os",method:"app-list",params:{}}).then(function(t){t.apps&&n("updateAppList",t.apps)})},startHeartbeat:function(t){var e=t.state,n=t.dispatch;e.rpc.heartbeatHandel&&(clearInterval(e.rpc.heartbeatHandel),e.rpc.heartbeatHandel=null),e.rpc.heartbeatHandel=setInterval(function(){n("request",{object:"session",method:"access",params:{}})},6e4)},logInit:function(){g()},logEvent:function(t,e){w(t,e)}},getters:{isAuthenticated:function(t){return t.rpc.token!==k},isInitialSetup:function(t){return t.system.initialSetup},isOnline:function(t){return t.system.online},sessionToken:function(t){return t.rpc.token},requestUrl:function(t){return t.rpc.url},activeApp:function(t){return t.apps.active},runningApps:function(t){for(var e=[],n=0;n<t.apps.running.length;n++){var i=t.apps.running[n];void 0===i.background&&e.push(i)}return e},availableApps:function(t){var e=[];for(var n in t.apps.available){var i=t.apps.available[n];void 0===i.background&&e.push(i)}return e},deviceInfo:function(t){return t.device}}}),A={name:"App",components:{ConsoleFrame:n("0Zpu").default},created:function(){this.$store.dispatch("checkInitialSetup"),this.$store.dispatch("logInit")}},I={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("ConsoleFrame")],1)},staticRenderFns:[]};var M=n("VU/8")(A,I,!1,function(t){n("mW+R")},null,null).exports,N=n("AYPi"),S=n.n(N);i.a.config.productionTip=!1;Object({NODE_ENV:"production"}).DEV_HOST;i.a.use(a.a,"ws://"+window.location.hostname+":9001"),i.a.use(S.a,{id:"UA-48382427-15"}),new i.a({el:"#app",store:y,components:{App:M},template:"<App/>"})},UW2e:function(t,e){},"Wq+4":function(t,e){},bAPZ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("gosb"),s=n("xtvL"),a=n("KDLF"),o={name:"SetupView",components:{LoginForm:i.default,WifiClientConfig:s.default,SoftwareUpgrade:a.default},data:function(){return{initialSetup:!0,currentStep:0,steps:[{title:"Welcome",heading:"Welcome to the Omega2 Setup Wizard",body:'Let\'s get your Omega2 ready to make some amazing things!<br><br>We\'ll connect to a WiFi network and then upgrade the device software. If you get stuck, check out our <a href="http://onioniot.com/getstarted" target="_blank">getting started guide</a>.',next:!0},{title:"Login",body:"First, login to your Omega",component:"LoginForm",next:!1},{title:"WiFi",heading:"Connect to WiFi",component:"WifiClientConfig",next:!1},{title:"Software",heading:"Software Update",component:"SoftwareUpgrade",next:!1},{title:"Done",heading:"Done",body:'<strong>You have successfully set up your Omega!</strong><br><br>Wondering what to do next? Check out our <a href="http://onioniot.com/project-blog" target="_blank">project blog</a> to get inspired, or head over to our <a href="http://onioniot.com/community" target="_blank">community forum</a> and talk to other Omega users.',done:!0}]}},methods:{getProgressColor:function(t){return t<=this.currentStep?"#9B4B63":"#bdc3c7"},next:function(){this.currentStep+=1},done:function(){this.initialSetup=!1,this.$store.dispatch("setInitialSetup",{value:0}),this.$store.commit("initialSetup",0)}}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.$store.getters.isInitialSetup?n("div",[n("div",{staticClass:"modal setup-modal",class:{active:t.$store.getters.isInitialSetup}},[n("div",{staticClass:"modal-container setup-progress"},[t._m(0),t._v(" "),n("div",{staticClass:"bar bar-slider"},t._l(t.steps,function(e,i){return n("div",{key:i,staticClass:"bar-item",style:{width:i/(t.steps.length-1)*100+"%",background:t.getProgressColor(i),"z-index":t.steps.length-i}},[n("button",{staticClass:"bar-slider-btn btn step-btn",style:{background:t.getProgressColor(i)}},[n("div",{staticClass:"progress-title",style:{color:t.getProgressColor(i)}},[t._v(t._s(e.title))])])])}))]),t._v(" "),t._l(t.steps,function(e,i){return t.currentStep===i?n("div",{key:i,staticClass:"modal-container setup-steps"},[n("div",{staticClass:"modal-header"},[n("h3",[t._v(" "+t._s(e.heading)+" ")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("div",{staticClass:"setup-instruction",domProps:{innerHTML:t._s(e.body)}}),t._v(" "),e.component?n("div",{staticClass:"setup-component"},[n(e.component,{tag:"component",on:{success:function(e){t.currentStep++},next:function(t){e.next=!0}}})],1):t._e()]),t._v(" "),n("div",{staticClass:"modal-footer"},[e.next?n("button",{staticClass:"btn",on:{click:t.next}},[t._v("Continue")]):t._e(),t._v(" "),e.done?n("button",{staticClass:"btn",on:{click:t.done}},[t._v("Enter OnionOS")]):t._e()])]):t._e()})],2)]):t._e()},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"setup-image"},[e("img",{attrs:{src:"static/img//Onion-Logo-Full.png",alt:""}})])}]};var c=n("VU/8")(o,r,!1,function(t){n("vnqC")},"data-v-486688de",null);e.default=c.exports},c27y:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal modal-sm",class:{active:t.active}},[n("a",{staticClass:"modal-overlay",on:{click:t.close}}),t._v(" "),n("div",{staticClass:"modal-container"},[n("div",{staticClass:"modal-header"},[n("a",{staticClass:"btn btn-clear float-right",on:{click:t.close}})]),t._v(" "),n("div",{staticClass:"modal-body"},[n("div",{staticClass:"content"},[t._m(0),t._v(" "),n("div",{staticClass:"about-text"},[t._v("\n          OS version: 1.0\n          "),n("br"),t._v("\n          Kernel: "+t._s(t.$store.getters.deviceInfo.kernel)+"\n          "),n("br"),t._v(" "),n("br"),t._v("\n          Device: "+t._s(t.$store.getters.deviceInfo.hostname)+"\n          "),n("br"),t._v("\n          Model: "+t._s(t.$store.getters.deviceInfo.model)+"\n        ")])])]),t._v(" "),n("div",{staticClass:"modal-footer"},[t._v("\n      © 2018 Onion Corpration All Rights Reserved.\n    ")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"about-image"},[e("img",{attrs:{src:"static/img/OnionOS.svg",alt:""}})])}]};var s=n("VU/8")({name:"About",props:{active:!0},methods:{close:function(){this.$emit("close")}}},i,!1,function(t){n("0EBt")},"data-v-246997fc",null);e.default=s.exports},eb1p:function(t,e){},"gL/t":function(t,e){},gosb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-form",on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.login(e):null}}},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label",attrs:{for:"input-username"}},[t._v("Username")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-input",attrs:{type:"text",id:"input-username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label",attrs:{for:"input-password"}},[t._v("Password")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-input",attrs:{type:"password",id:"input-password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),n("button",{staticClass:"btn btn-success loginButton",on:{click:t.login}},[t._v("Login")])])},staticRenderFns:[]};var s=n("VU/8")({name:"LoginForm",data:function(){return{username:"",password:""}},methods:{login:function(){var t=this;this.$store.dispatch("login",{username:this.username,password:this.password}).then(function(e){t.$emit("success")})}}},i,!1,function(t){n("i67E")},"data-v-5f757ff8",null);e.default=s.exports},hNqL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"Toast",data:function(){return{toastList:[]}},props:{timeout:{type:Number,default:10}},created:function(){window.console.toast=this.makeToast},methods:{makeId:function(){return Math.random().toString(36).substring(2)},makeToast:function(t,e){var n={title:e,message:t,id:this.makeId(),value:100};this.toastList.push(n);var i=setInterval(function(){var t=this.toastList.indexOf(n);if(-1!==t){var e=this.toastList[t];e.value-=1,e.value<=0&&(clearInterval(i),this.close(t))}else clearInterval(i)}.bind(this),1e3*this.timeout/100)},close:function(t){this.toastList.splice(t,1)}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toastPanel"},[n("transition-group",{attrs:{name:"list"}},t._l(t.toastList,function(e,i){return n("div",{key:e.id,staticClass:"toast toast-item"},[n("button",{staticClass:"btn btn-clear float-right",on:{click:function(e){t.close(i)}}}),t._v(" "),e.title?n("h6",[t._v("Title")]):t._e(),t._v("\n      "+t._s(e.message)+"\n      "),n("div",{staticClass:"bar bar-sm"},[n("div",{staticClass:"bar-item",style:{width:e.value+"%"}})])])}))],1)},staticRenderFns:[]};var a=n("VU/8")(i,s,!1,function(t){n("/nOM")},"data-v-f4677de0",null);e.default=a.exports},i67E:function(t,e){},i8c9:function(t,e){},lx7c:function(t,e){},"mW+R":function(t,e){},po9y:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"AppView",components:{IframeApp:n("xSqd").default},data:function(){return{}},methods:{closeApp:function(t){}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"appview"},t._l(t.$store.state.apps.running,function(e){return n(e.type,{directives:[{name:"show",rawName:"v-show",value:e.id===t.$store.state.apps.active,expression:"app.id === $store.state.apps.active"}],key:e.id,tag:"component",attrs:{params:e.params}})}))},staticRenderFns:[]};var a=n("VU/8")(i,s,!1,function(t){n("IbZh")},"data-v-60532d25",null);e.default=a.exports},uscc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal modal-sm",class:{active:!t.$store.getters.isAuthenticated}},[n("div",{staticClass:"modal-container"},[t._m(0),t._v(" "),n("div",{staticClass:"modal-body",on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.login(e):null}}},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label",attrs:{for:"input-username"}},[t._v("Username")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-input",attrs:{type:"text",id:"input-username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"form-label",attrs:{for:"input-password"}},[t._v("Password")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-input",attrs:{type:"password",id:"input-password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-success loginButton",on:{click:t.login}},[t._v("Login")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("img",{attrs:{src:"static/img/OnionOS.svg"}})])}]};var s=n("VU/8")({name:"LoginView",data:function(){return{username:"",password:""}},methods:{login:function(){this.$store.dispatch("login",{username:this.username,password:this.password})}}},i,!1,function(t){n("gL/t")},"data-v-d05598a4",null);e.default=s.exports},vnqC:function(t,e){},xSqd:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"IframeApp",data:function(){return{AppUid:console.makeId()}},computed:{listenerUid:function(){return"app-"+this.AppUid}},props:{params:{},loaded:!1},methods:{onLoad:function(){var t=this.$refs[this.AppUid];window.addEventListener(this.listenerUid,function(e){t.contentWindow.postMessage({event:e.name,content:e.data.content},"*")},!1),t.contentWindow.postMessage({event:"Onion.CDK.Init",appUid:this.AppUid},"*")}},created:function(){console.log("created")}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"frameview"},[!t.$store.getters.isOnline&&t.params.internet?n("div",{staticClass:"empty"},[t._m(0),t._v(" "),n("p",{staticClass:"empty-title h5"},[t._v("This App require an Internet Connection")]),t._v(" "),n("p",{staticClass:"empty-subtitle"},[t._v("Please make sure your computer is connected to the Internet")])]):t._e(),t._v(" "),t.$store.getters.isOnline||!t.params.internet?n("iframe",{ref:t.AppUid,attrs:{src:t.params.url,width:"100%",height:"100%",frameBorder:"0"},on:{load:t.onLoad}}):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"empty-icon"},[e("i",{staticClass:"icon icon-cross"})])}]};var a=n("VU/8")(i,s,!1,function(t){n("lx7c")},"data-v-cf53b736",null);e.default=a.exports},xtvL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("//Fk"),s=n.n(i),a={name:"WifiClientConfig",data:function(){return{wifi:{radio:"ra0",configured:[],scanned:[],interval:{connectionCheck:3,connectionTimeout:45}},inputNetwork:{ssid:"",encryption:"",password:""},view:{bLoading:!0,bModalActive:!1,bModalLoading:!1,bModalForm:!1,bModalCloseAllowed:!0,modalButtons:"",modalTitle:"",modalText:""}}},props:{viewConfiguredNetworks:Boolean,skipIfConnected:{type:Boolean,default:!0}},computed:{wifiModalActive:function(){return this.view.bModalActive?"active":""},passwordFormClass:function(){return this.validatePassword(this.inputNetwork.encryption,this.inputNetwork.password).valid?"":"is-error"},passwordFormShowHint:function(){return!0},passwordFormHintText:function(){var t=this.validatePassword(this.inputNetwork.encryption,this.inputNetwork.password).err;return 0===t.length&&(t="Password ok"),t},joinButtonDisabled:function(){return this.validatePassword(this.inputNetwork.encryption,this.inputNetwork.password).valid?"":"disabled"},allowClosingModal:function(){return this.view.bModalCloseAllowed}},methods:{toggleLoading:function(){this.view.bLoading=!this.view.bLoading},toggleWifiModal:function(){this.view.bModalActive=!this.view.bModalActive},openWifiModal:function(){this.view.bModalActive=!0},closeWifiModal:function(){this.view.bModalActive=!1},setView:function(t){switch(t){case"listView":this.closeWifiModal();break;case"selectedNetwork":this.view.modalTitle="WiFi Password",this.view.bModalForm=!0,this.view.bModalCloseAllowed=!0,this.view.modalButtons="join","none"===this.inputNetwork.encryption&&(this.view.modalTitle="Join Network",this.view.bModalForm=!1,this.view.modalText='Join "'+this.inputNetwork.ssid+'", an <strong>open, unencrypted</strong> network?'),0===this.inputNetwork.ssid.length&&(this.view.modalTitle="This network has a hidden SSID",this.view.bModalForm=!1,this.view.modalText='Please try connecting to a network with a visible SSID<br>or<br>connect to this network by following our <a href="http://onioniot.com/docs/omega2-docs/first-time-setup-command-line.html" target="_blank">guide to setup your Omega using the command line',this.view.modalButtons=""),this.openWifiModal();break;case"joiningNetwork":this.view.bModalLoading=!0,this.view.bModalForm=!1,this.view.bModalCloseAllowed=!1,this.view.modalButtons="",this.view.modalTitle='Joining "'+this.inputNetwork.ssid+'" network',this.view.modalText="If you were connected to your Omega's WiFi Access Point, your computer may disconnect during this process. Please make sure you're still connected!";break;case"connectionSuccess":this.view.bModalLoading=!1,this.view.bModalCloseAllowed=!0,this.view.modalButtons="",this.view.modalTitle='Joined "'+this.inputNetwork.ssid+'" network!',this.view.modalText="Successfully connected to WiFi network";break;case"connectionFail":this.view.bModalLoading=!1,this.view.bModalCloseAllowed=!1,this.view.modalButtons="tryAgain",this.view.modalTitle="Could not connect",this.view.modalText='Something went wrong connecting to the "'+this.inputNetwork.ssid+'" network!<br><br>Press <strong>Try Again</strong> to attempt to connect to a different network, or try following our <a href="http://onioniot.com/docs/omega2-docs/first-time-setup-command-line.html" target="_blank">guide to setup your Omega using the command line</a>.',this.openWifiModal();break;case"skipStep":this.view.bModalLoading=!1,this.view.bModalCloseAllowed=!1,this.view.modalButtons="skip",this.view.modalTitle="Already connected to the internet",this.view.modalText="It looks like your Omega is already connected to the internet, let's skip to the next step",this.openWifiModal()}},selectedNetwork:function(t,e){this.inputNetwork.ssid=t,this.inputNetwork.encryption=e,this.inputNetwork.password="",console.log("selected network "+t+", encryption "+e+"!"),this.setView("selectedNetwork")},readNetworkList:function(){return new s.a(function(t,e){this.$store.dispatch("request",{object:"onion",method:"wifi-setup",params:{command:"list",params:{}}}).then(function(e){e.success&&t(e.results)}).catch(function(t){e(t)})}.bind(this))},scanForWifi:function(){return new s.a(function(t,e){this.$store.dispatch("request",{object:"onion",method:"wifi-scan",params:{device:this.wifi.radio}}).then(function(n){n.results&&n.results instanceof Array?t(n.results):e()}).catch(function(t){e(t)})}.bind(this))},internetConnectivityCheck:function(){return new s.a(function(t,e){this.$store.dispatch("request",{object:"file",method:"exec",params:{command:"wget",params:["--spider","http://repo.onioniot.com/"]}}).then(function(n){void 0!==n&&void 0!==n.code&&0===n.code?t(!0):e(!1)})}.bind(this))},addNetwork:function(t,e,n){console.log("joining network"),this.$store.dispatch("request",{object:"onion",method:"wifi-setup",params:{command:"add",base64:!0,params:{ssid:btoa(t),password:btoa(n),encr:btoa(e)}}}).then(function(t){console.log()})},validatePassword:function(t,e){var n=!1,i="";switch(t){case"psk":case"psk2":e.length<8?(n=!1,i="Password must be 8 characters or more"):e.length>63?(n=!1,i="Password must be less than 64 characters"):n=!0;break;case"wep":5!==e.length&&13!==e.length?(n=!1,i="Password must be either 5 or 13 characters"):n=!0;break;case"none":n=!0;break;default:n=!1,i="Unknown encryption type"}return{valid:n,err:i}},joinNetwork:function(){this.addNetwork(this.inputNetwork.ssid,this.inputNetwork.encryption,this.inputNetwork.password),this.setView("joiningNetwork");var t=setInterval(function(){var n=this;this.internetConnectivityCheck().then(function(){clearInterval(t),clearTimeout(e),console.log("Device successfully connected to the internet!!"),n.setView("connectionSuccess"),n.completeWifiConfig(),n.readNetworkList().then(function(t){n.wifi.configured=t})}).catch(function(t){})}.bind(this),1e3*this.wifi.interval.connectionCheck),e=setTimeout(function(){this.setView("connectionFail")}.bind(this),1e3*this.wifi.interval.connectionTimeout)},completeWifiConfig:function(){this.$emit("success")},skipWifiConfig:function(){this.$emit("success")}},created:function(){var t=this,e=this.readNetworkList();e.then(function(e){t.wifi.configured=e,t.skipIfConnected&&t.wifi.configured.length>0&&(console.log("have configured networks, checking for internet connectivity"),t.internetConnectivityCheck().then(function(e){console.log("device already connected to internet, can skip wifi setup"),t.setView("skipStep")}).catch(function(t){console.log("device not connected to internet!")}))});var n=this.scanForWifi();n.then(function(e){t.wifi.scanned=e.sort(function(t,e){return t.rssi<=e.rssi?-1:t.rssi>e.rssi?1:0})}),s.a.all([e,n]).then(function(e){t.toggleLoading()})}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.view.bLoading,expression:"view.bLoading"}],staticClass:"loading loading-lg"}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.view.bLoading&&t.viewConfiguredNetworks&&t.wifi.configured.length>0,expression:"!view.bLoading && viewConfiguredNetworks && wifi.configured.length > 0"}],staticClass:"card"},[t._m(0),t._v(" "),i("div",{staticClass:"card-body"},[i("table",{staticClass:"table table-hover"},[i("tbody",t._l(t.wifi.configured,function(e){return i("tr",{key:e.ssid,class:{active:e.enabled}},[i("td",[t._v(t._s(""!==e.ssid?e.ssid:"hidden"))]),t._v(" "),i("td",{staticClass:"wifi-icons"},["none"!==e.encryption?i("img",{attrs:{src:n("B4+s"),alt:""}}):t._e(),t._v(" "),"none"===e.encryption?i("img",{attrs:{src:n("7JcZ"),alt:""}}):t._e()])])}))])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.view.bLoading,expression:"!view.bLoading"}],staticClass:"card"},[t._m(1),t._v(" "),i("div",{staticClass:"card-body"},[i("table",{staticClass:"table table-hover"},[i("tbody",t._l(t.wifi.scanned,function(e){return i("tr",{key:e.ssid,on:{click:function(n){t.selectedNetwork(e.ssid,e.encryption)}}},[e.ssid.length>0?i("td",[t._v(t._s(e.ssid))]):i("td",[i("span",{staticClass:"text-italic"},[t._v("Hidden")])]),t._v(" "),i("td",{staticClass:"wifi-icons"},["none"!==e.encryption?i("img",{attrs:{src:n("B4+s"),alt:""}}):t._e(),t._v(" "),"none"===e.encryption?i("img",{attrs:{src:n("7JcZ"),alt:""}}):t._e()])])}))])])]),t._v(" "),i("div",{staticClass:"modal",class:t.wifiModalActive,attrs:{id:"modal-id"}},[t.allowClosingModal?i("a",{staticClass:"modal-overlay",attrs:{href:"#close","aria-label":"Close"},on:{click:t.closeWifiModal}}):i("a",{staticClass:"modal-overlay"}),t._v(" "),i("div",{staticClass:"modal-container"},[i("div",{staticClass:"modal-header"},[t.allowClosingModal?i("a",{staticClass:"btn btn-clear float-right",attrs:{href:"#close","aria-label":"Close"},on:{click:t.closeWifiModal}}):t._e(),t._v(" "),i("div",{staticClass:"modal-title h5"},[t._v(t._s(t.view.modalTitle))])]),t._v(" "),i("div",{staticClass:"modal-body"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.view.bModalLoading,expression:"view.bModalLoading"}],staticClass:"loading loading-lg"}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.view.bModalForm&&"none"!==t.inputNetwork.encryption,expression:"view.bModalForm && inputNetwork.encryption !== 'none'"}],staticClass:"form-group"},[i("label",{staticClass:"form-label float-left",attrs:{for:"input-password"}},[t._v('Enter the password for "'+t._s(t.inputNetwork.ssid)+'"')]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputNetwork.password,expression:"inputNetwork.password"}],staticClass:"form-input",class:t.passwordFormClass,attrs:{type:"password",id:"input-password",placeholder:"Password"},domProps:{value:t.inputNetwork.password},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.joinNetwork(e):null},input:function(e){e.target.composing||t.$set(t.inputNetwork,"password",e.target.value)}}}),t._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:t.passwordFormShowHint,expression:"passwordFormShowHint"}],staticClass:"form-input-hint"},[t._v(t._s(t.passwordFormHintText))])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.view.bModalForm,expression:"!view.bModalForm"}],staticClass:"content label",domProps:{innerHTML:t._s(t.view.modalText)}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"join"===t.view.modalButtons,expression:"view.modalButtons === 'join'"}],staticClass:"modal-footer"},[i("button",{staticClass:"btn float-left",on:{click:function(e){t.setView("listView")}}},[t._v("Cancel")]),t._v(" "),i("button",{staticClass:"btn btn-primary",class:t.joinButtonDisabled,on:{click:t.joinNetwork}},[t._v("Join")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"tryAgain"===t.view.modalButtons||"skip"===t.view.modalButtons,expression:"view.modalButtons === 'tryAgain' || view.modalButtons === 'skip'"}],staticClass:"modal-footer"},[i("button",{directives:[{name:"show",rawName:"v-show",value:"tryAgain"===t.view.modalButtons,expression:"view.modalButtons === 'tryAgain'"}],staticClass:"btn btn-error float-left",on:{click:function(e){t.setView("listView")}}},[t._v("Try Again")]),t._v(" "),i("button",{staticClass:"btn",on:{click:t.skipWifiConfig}},[t._v("Skip Step")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header"},[e("div",{staticClass:"card-title h5"},[this._v("Wi-Fi Settings")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header"},[e("div",{staticClass:"card-title h5"},[this._v("Select a Network...")])])}]};var r=n("VU/8")(a,o,!1,function(t){n("UW2e")},"data-v-4cb9f449",null);e.default=r.exports}},["NHnr"]);
//# sourceMappingURL=app.918db7b2ccce4b2b0787.js.map