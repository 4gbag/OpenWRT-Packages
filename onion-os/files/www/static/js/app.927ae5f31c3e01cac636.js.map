{"version":3,"sources":["webpack:///src/components/ConsoleFrame.vue","webpack:///./src/components/ConsoleFrame.vue?9e8c","webpack:///./src/components/ConsoleFrame.vue","webpack:///./src/components lazy ^\\.\\/.*$","webpack:///src/components/TaskBar.vue","webpack:///./src/components/TaskBar.vue?a2c6","webpack:///./src/components/TaskBar.vue","webpack:///./src/api/ubus.js","webpack:///./src/store/index.js","webpack:///src/App.vue","webpack:///./src/App.vue?4184","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///src/components/About.vue","webpack:///./src/components/About.vue?a995","webpack:///./src/components/About.vue","webpack:///src/components/Toast.vue","webpack:///./src/components/Toast.vue?9d70","webpack:///./src/components/Toast.vue","webpack:///src/components/AppView.vue","webpack:///./src/components/AppView.vue?aed7","webpack:///./src/components/AppView.vue","webpack:///src/components/LoginView.vue","webpack:///./src/components/LoginView.vue?b811","webpack:///./src/components/LoginView.vue","webpack:///src/components/IframeApp.vue","webpack:///./src/components/IframeApp.vue?7c17","webpack:///./src/components/IframeApp.vue"],"names":["data","TaskBar","AppView","LoginView","Toast","About","this","checkInternet","components_ConsoleFrame","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","solid-bg","$store","getters","activeApp","on","about","$event","aboutActive","_v","active","close","src","staticRenderFns","Component","__webpack_require__","normalizeComponent","ConsoleFrame","ssrContext","__webpack_exports__","map","./About","./About.vue","./AppLauncher","./AppLauncher.vue","./AppView","./AppView.vue","./ConsoleFrame","./ConsoleFrame.vue","./ExternalApp","./ExternalApp.vue","./IframeApp","./IframeApp.vue","./LoginView","./LoginView.vue","./PreferencesApp","./PreferencesApp.vue","./TaskBar","./TaskBar.vue","./Toast","./Toast.vue","webpackAsyncContext","req","ids","Promise","all","slice","e","then","reject","Error","keys","Object","module","exports","appId","components_TaskBar","class","solidBg","click","onHome","alt","_l","app","key","data-tooltip","name","openApp","mouseover","hoverApp","mouseout","icon","directives","rawName","value","expression","closeApp","isOnline","_e","logout","axios_default","a","defaults","headers","post","ubus","url","token","pkg","fn","params","promise_default","resolve","jsonrpc","method","response","result","Array","isArray","console","log","error","catch","AccessDenied","vue_esm","use","vuex_esm","window","makeId","Math","random","toString","substring","NODE_ENV","DEV_HOST","hostName","location","hostname","defaultToken","src_store","Store","state","system","online","device","rpc","username","password","sessionStorage","getItem","heartbeatHandel","mqtt","subscription","apps","running","available","launcher","type","background","doc-app","internet","terminal-app","editor-app","mutations","registerUser","_ref","registerSession","setItem","removeItem","registerAppHandler","callback","launchApp","appExist","i","length","push","component","splice","updateInternetStatus","mqttSubscribe","_ref2","appUid","topic","deviceInfo","updateAppList","undefined","replace","set","actions","login","_ref3","_ref4","commit","dispatch","resp","ubus_rpc_session","_ref5","getDeviceInfo","_ref6","isAuthenticated","object","request","_ref7","_ref8","code","_ref9","_ref10","_ref11","_ref12","notifyApp","_ref13","_ref14","eventId","event","Event","content","dispatchEvent","_ref15","browser_default","initCDK","_ref16","addEventListener","instance","indexOf","command","service","cmd","stdout","toast","message","handleService","_ref17","serviceStatus","_ref18","handleCommand","_ref19","_ref20","_ref21","_ref22","mqttMessage","_ref23","_ref24","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","next","done","err","return","refreshAppList","_ref25","exists","startHeartbeat","_ref26","clearInterval","setInterval","sessionToken","requestUrl","runningApps","availableApps","App","selectortype_template_index_0_src_App","src_App","config","productionTip","build_default","vue_analytics_default","el","store","components","template","components_About","_m","_s","kernel","model","Number","makeToast","t","selectedIndex","intervalHandel","components_Toast","index","style","width","IframeApp","components_AppView","tag","components_LoginView","keyup","_k","keyCode","for","domProps","input","target","composing","AppUid","components_IframeApp","ref","height","frameBorder","load","onLoad"],"mappings":"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","file":"static/js/app.927ae5f31c3e01cac636.js","sourcesContent":["<template>\n\n  <div class=\"consoleframe\">\n\n    <!-- <div class=\"taskbarframe\"> -->\n    <TaskBar id=\"taskbar\"\n      :solid-bg=\"$store.getters.activeApp !== 'launcher'\"\n      @about=\"aboutActive = true\"\n    />\n\n    <!-- App View -->\n    <AppView/>\n\n    <!-- Global Display Elements -->\n    <LoginView/>\n    <Toast/>\n    <About :active=\"aboutActive\"\n      @close=\"aboutActive = false\"\n    />\n\n    <!-- GA tracking code on remote server -->\n    <iframe id=\"gaFrame\" src=\"http://s3-us-west-2.amazonaws.com/onion-cdn/os/GA/index.html\"></iframe>\n\n  </div>\n</template>\n<script>\n\nimport TaskBar from '@/components/TaskBar'\nimport AppView from '@/components/AppView'\nimport LoginView from '@/components/LoginView'\nimport Toast from '@/components/Toast'\nimport About from '@/components/About'\n\nexport default {\n  mqtt: {\n    '#': function (data, topic) {\n      console.log(`topic: ${topic}, msg: ${data}`)\n      // console.log(data)\n      this.$store.dispatch('mqttMessage', {topic: topic, data: data})\n    }\n  },\n  name: 'ConsoleFrame',\n  data () {\n    return {\n      aboutActive: false\n    }\n  },\n  components: {\n    TaskBar,\n    AppView,\n    LoginView,\n    Toast,\n    About\n  },\n  created () {\n    // mqtt subscription\n    // this.$mqtt.subscribe('/console/')\n    this.$mqtt.subscribe('/console/+')\n\n    // Check internet status\n    var checkInternet = function (e) {\n      if (e && e.type === 'offline') {\n        this.$store.commit('updateInternetStatus', false)\n      } else {\n        this.$store.dispatch('checkInternet')\n        // TODO: use notification instead of tooltip\n      }\n    }.bind(this)\n    checkInternet()\n    // Re-Check when network status change\n    window.addEventListener('online', checkInternet)\n    window.addEventListener('offline', checkInternet)\n\n    // Login\n    // console.log('Authenticated: ' + this.$store.getters.isAuthenticated)\n    // if (!this.$store.getters.isAuthenticated) {\n    //   this.$store.dispatch('login', {\n    //     username: 'root',\n    //     password: 'onioneer'\n    //   })\n    //     .then(resp => {\n    //       console.log('login success!' + this.$store.getters.isAuthenticated)\n    //       this.$store.dispatch('request', {\n    //         object: 'onion',\n    //         method: 'wifi-scan',\n    //         params: {\n    //           device: 'ra0'\n    //         }\n    //       })\n    //         .then(resp => {\n    //           console.log(resp)\n    //         })\n    //     })\n    //     .catch(resp => {\n    //       console.log('login failed:' + resp)\n    //     })\n    // }\n\n    this.$store.dispatch('launchApp', {appId: 'launcher'})\n    this.$store.dispatch('getDeviceInfo')\n    this.$store.dispatch('initCDK')\n    this.$store.dispatch('refreshAppList')\n  }\n}\n</script>\n\n<style scoped>\n.consoleframe {\n  display: flex;\n  flex-wrap: wrap;\n  height: 100%;\n  background-image: url(\"~@/assets/img/bg.jpg\");\n  background-size: cover;\n}\n\n#gaFrame {\n  width: 0;\n  height: 0;\n  border: 0;\n  position: absolute;\n  top: 0;\n  right: 0;\n}\n\n@media screen and (max-width: 768px) {\n    .consoleframe {\n        flex-direction: column;\n    }\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ConsoleFrame.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"consoleframe\"},[_c('TaskBar',{attrs:{\"id\":\"taskbar\",\"solid-bg\":_vm.$store.getters.activeApp !== 'launcher'},on:{\"about\":function($event){_vm.aboutActive = true}}}),_vm._v(\" \"),_c('AppView'),_vm._v(\" \"),_c('LoginView'),_vm._v(\" \"),_c('Toast'),_vm._v(\" \"),_c('About',{attrs:{\"active\":_vm.aboutActive},on:{\"close\":function($event){_vm.aboutActive = false}}}),_vm._v(\" \"),_c('iframe',{attrs:{\"id\":\"gaFrame\",\"src\":\"http://s3-us-west-2.amazonaws.com/onion-cdn/os/GA/index.html\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1e4296f3\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ConsoleFrame.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1e4296f3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ConsoleFrame.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ConsoleFrame.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ConsoleFrame.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1e4296f3\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ConsoleFrame.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1e4296f3\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ConsoleFrame.vue\n// module id = null\n// module chunks = ","var map = {\n\t\"./About\": [\n\t\t\"c27y\"\n\t],\n\t\"./About.vue\": [\n\t\t\"c27y\"\n\t],\n\t\"./AppLauncher\": [\n\t\t\"LyiH\",\n\t\t0\n\t],\n\t\"./AppLauncher.vue\": [\n\t\t\"LyiH\",\n\t\t0\n\t],\n\t\"./AppView\": [\n\t\t\"po9y\"\n\t],\n\t\"./AppView.vue\": [\n\t\t\"po9y\"\n\t],\n\t\"./ConsoleFrame\": [\n\t\t\"0Zpu\"\n\t],\n\t\"./ConsoleFrame.vue\": [\n\t\t\"0Zpu\"\n\t],\n\t\"./ExternalApp\": [\n\t\t\"//Yz\",\n\t\t1\n\t],\n\t\"./ExternalApp.vue\": [\n\t\t\"//Yz\",\n\t\t1\n\t],\n\t\"./IframeApp\": [\n\t\t\"xSqd\"\n\t],\n\t\"./IframeApp.vue\": [\n\t\t\"xSqd\"\n\t],\n\t\"./LoginView\": [\n\t\t\"uscc\"\n\t],\n\t\"./LoginView.vue\": [\n\t\t\"uscc\"\n\t],\n\t\"./PreferencesApp\": [\n\t\t\"9P2q\",\n\t\t2\n\t],\n\t\"./PreferencesApp.vue\": [\n\t\t\"9P2q\",\n\t\t2\n\t],\n\t\"./TaskBar\": [\n\t\t\"J7JO\"\n\t],\n\t\"./TaskBar.vue\": [\n\t\t\"J7JO\"\n\t],\n\t\"./Toast\": [\n\t\t\"hNqL\"\n\t],\n\t\"./Toast.vue\": [\n\t\t\"hNqL\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"E4d3\";\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components lazy ^\\.\\/.*$\n// module id = E4d3\n// module chunks = 4","<template>\n  <div class=\"taskbar barAlign\" v-bind:class=\"{ solidBg: solidBg }\">\n\n    <div class=\"taskBarStart barAlign\">\n      <div class=\"starticon c-hand\" @click=\"onHome\">\n        <img src=\"static/img/icons/onion.svg\" alt=\"\">\n      </div>\n    </div>\n\n    <div class=\"taskBarBody barAlign\">\n      <div v-for=\"app in $store.getters.runningApps\"\n        @click=\"openApp(app.id)\"\n        @mouseover=\"hoverApp = app.id\"\n        @mouseout=\"hoverApp = ''\"\n        :key=\"app.id\"\n        class=\"appIconContainer tooltip tooltip-dir\" :data-tooltip=\"app.name\" >\n        <img :src=\"app.icon\" class=\"appIcon\">\n\n        <i class=\"icon icon-cross closeBtn c-hand\"\n          v-show=\"hoverApp === app.id\"\n          @click=\"closeApp(app.id)\"\n        ></i>\n      </div>\n    </div>\n\n    <div class=\"taskBarEnd barAlign\">\n\n      <div class=\"tooltip tooltip-dir\"\n        data-tooltip=\"No Internet. Some Apps may not work\"\n        v-if=\"!$store.getters.isOnline\"\n      >\n        <i class=\"icon icon-stop no-wifi-icon\" ></i>\n        <!-- <i class=\"mdi mdi-wifi-off taskbar-icon no-wifi-icon\"></i> -->\n      </div>\n\n      <div class=\"tooltip tooltip-dir\"\n        data-tooltip=\"About\"\n        @click=\"about\"\n      >\n        <i class=\"icon icon-message taskbar-icon c-hand\" ></i>\n        <!-- <i class=\"mdi mdi-information-outline taskbar-icon c-hand\"></i> -->\n      </div>\n      <div class=\"tooltip tooltip-dir\"\n        data-tooltip=\"Logout\"\n        @click=\"logout\"\n      >\n        <i class=\"icon icon-shutdown taskbar-icon c-hand\"></i>\n        <!-- <i class=\"mdi mdi-power taskbar-icon c-hand\"></i> -->\n\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'TaskBar',\n  props: {\n    solidBg: true\n  },\n  data () {\n    return {\n      hoverApp: ''\n    }\n  },\n  methods: {\n    onHome: function () {\n      this.$store.dispatch('launchApp', {appId: 'launcher'})\n    },\n    openApp: function (appId) {\n      this.$store.dispatch('launchApp', {appId: appId})\n    },\n    closeApp: function (appId) {\n      console.log(appId)\n      this.$store.dispatch('closeApp', {appId: appId})\n      window.event.cancelBubble = 'true'\n      this.hoverApp = ''\n    },\n    logout: function () {\n      // console.log('logout')\n      this.$store.dispatch('logout', {})\n    },\n    about: function () {\n      this.$emit('about')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.closeBtn{\n  position: absolute;\n  bottom: -2px;\n  right: -10px;\n  color: white;\n  background-color: #e74c3c;\n  border-radius: 50%;\n  transition: all 0.2s;\n}\n\n.barAlign {\n  display: flex;\n  flex-direction:column;\n  align-self: center;\n  align-content: center;\n}\n\n.taskBarBody { flex: 1; }\n\n.taskbar-icon {\n  color: white;\n  font-size: 1em;\n  -webkit-transition: all 0.4s;\n  transition: all 0.4s;\n}\n\n.taskbar-icon:hover {\n  color: #e74c3c;\n}\n\n.starticon {\n  width: 28px;\n  height: 28px;\n  padding: 3px;\n  background-color: white;\n  border-radius: 50%;\n\n  -webkit-transition: all 0.2s; /* For Safari 3.1 to 6.0 */\n  transition: all 0.2s;\n}\n\n.starticon:hover {\n  padding: 1px;\n  border-radius: 25%;\n}\n\n.appIconContainer {\n  width: 30px;\n  height: 30px;\n  -webkit-transition: all 0.2s;\n  transition: all 0.2s;\n}\n\n.appIconContainer:hover {\n  width: 42px;\n  height: 42px;\n}\n\n.appIcon {\n  width: 100%;\n  height: 100%;\n\n  padding: 10%;\n}\n\n.solidBg {\n  background-color: black;\n}\n\n.no-wifi-icon {\n  color: #f39c12;\n  animation: blinker 10s linear infinite;\n}\n@keyframes blinker {\n  0% { opacity: 1; }\n  5% { opacity: 0; }\n  10% { opacity: 1; }\n  15% { opacity: 1; }\n  20% { opacity: 0; }\n  25% { opacity: 1; }\n  30% { opacity: 1; }\n  35% { opacity: 0; }\n  40% { opacity: 1; }\n}\n\n@media screen and (min-width:768px){\n  .taskbar{\n    height: 100vh;\n    width: 36px;\n    padding-top: 20px;\n    padding-bottom: 12px;\n  }\n\n  .barAlign > div{\n    margin-bottom: 8px;\n  }\n\n  .tooltip.tooltip-dir::after {\n    bottom: 50%;\n    left: 100%;\n    transform: translate(20px,50%);\n  }\n}\n\n@media screen and (max-width:768px){\n  .taskbar{\n    flex-direction:row;\n    height: 36px;\n    width: 100%;\n\n    /* padding-top: 0; */\n    /* padding-bottom: 0; */\n    padding-left: 20px;\n    padding-right: 12px;\n  }\n\n  .barAlign {\n    display: flex;\n    flex-direction: row;\n  }\n\n  .barAlign > div{\n    margin-right: 8px;\n    align-content: center;\n  }\n\n  .tooltip.tooltip-dir::after {\n    bottom: auto;\n    top: 100%;\n    transform: translate(-50%,.4rem);\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/TaskBar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"taskbar barAlign\",class:{ solidBg: _vm.solidBg }},[_c('div',{staticClass:\"taskBarStart barAlign\"},[_c('div',{staticClass:\"starticon c-hand\",on:{\"click\":_vm.onHome}},[_c('img',{attrs:{\"src\":\"static/img/icons/onion.svg\",\"alt\":\"\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"taskBarBody barAlign\"},_vm._l((_vm.$store.getters.runningApps),function(app){return _c('div',{key:app.id,staticClass:\"appIconContainer tooltip tooltip-dir\",attrs:{\"data-tooltip\":app.name},on:{\"click\":function($event){_vm.openApp(app.id)},\"mouseover\":function($event){_vm.hoverApp = app.id},\"mouseout\":function($event){_vm.hoverApp = ''}}},[_c('img',{staticClass:\"appIcon\",attrs:{\"src\":app.icon}}),_vm._v(\" \"),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hoverApp === app.id),expression:\"hoverApp === app.id\"}],staticClass:\"icon icon-cross closeBtn c-hand\",on:{\"click\":function($event){_vm.closeApp(app.id)}}})])})),_vm._v(\" \"),_c('div',{staticClass:\"taskBarEnd barAlign\"},[(!_vm.$store.getters.isOnline)?_c('div',{staticClass:\"tooltip tooltip-dir\",attrs:{\"data-tooltip\":\"No Internet. Some Apps may not work\"}},[_c('i',{staticClass:\"icon icon-stop no-wifi-icon\"})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"tooltip tooltip-dir\",attrs:{\"data-tooltip\":\"About\"},on:{\"click\":_vm.about}},[_c('i',{staticClass:\"icon icon-message taskbar-icon c-hand\"})]),_vm._v(\" \"),_c('div',{staticClass:\"tooltip tooltip-dir\",attrs:{\"data-tooltip\":\"Logout\"},on:{\"click\":_vm.logout}},[_c('i',{staticClass:\"icon icon-shutdown taskbar-icon c-hand\"})])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2001fef7\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TaskBar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2001fef7\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TaskBar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TaskBar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TaskBar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2001fef7\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./TaskBar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2001fef7\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TaskBar.vue\n// module id = null\n// module chunks = ","import axios from 'axios'\naxios.defaults.headers.post['Content-Type'] = 'application/json'\n\nexport default {\n  request (url, token, pkg, fn, params) {\n    return new Promise(function (resolve, reject) {\n      axios.post(url, {\n        'jsonrpc': '2.0',\n        'id': 0,\n        'method': 'call',\n        'params': [\n          token,\n          pkg,\n          fn,\n          params\n        ]\n      })\n        .then(response => {\n          // console.log(response)\n          if (response.data) {\n            if (response.data.result && Array.isArray(response.data.result) && typeof response.data.result[0] !== 'undefined' && response.data.result[0] === 0) {\n              // console.log('ubus success!')\n              // console.log(response.data.result[1])\n              resolve(response.data.result[1])\n            } else {\n              console.log('ubus error!')\n              if (response.data.error) {\n                // console.log('code ' + response.data.error.code || -1 + ' message ' + response.data.error.message || '')\n                reject(response.data.error)\n              } else if (response.data.result && Array.isArray(response.data.result) && typeof response.data.result[0] !== 'undefined') {\n                // console.log('code ' + response.data.result[0])\n                reject(response.data.result[0])\n              }\n            }\n          }\n        })\n        .catch(e => {\n          console.error(e)\n          // this.errors.push(e)\n          reject(e)\n        })\n    })\n  },\n  errorCode: {\n    AccessDenied: -32002\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/ubus.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport ubus from '../api/ubus'\nimport isOnline from 'is-online'\n\nVue.use(Vuex)\n\nwindow.console.makeId = function () {\n  return Math.random().toString(36).substring(2)\n}\n\nvar devMode = process.env.NODE_ENV === 'development'\nvar devHost = process.env.DEV_HOST\nvar hostName = `${devMode ? devHost : window.location.hostname}`\nvar appPath = '/apps/'\n\nvar defaultToken = '00000000000000000000000000000000'\n\nvar store = new Vuex.Store({\n  // variables\n  state: {\n    system: {\n      online: false\n    },\n    device: { },\n    rpc: {\n      username: '',\n      password: '',\n      token: sessionStorage.getItem('_onion_console_session_token') || defaultToken,\n      // url: 'http://omega-2767.local/ubus'\n      url: `http://${devMode ? devHost : window.location.hostname}/ubus`,\n      heartbeatHandel: null\n    },\n    mqtt: {\n      subscription: {}\n    },\n    apps: {\n      active: 'launcher',\n      running: [],\n      available: {\n        launcher: {\n          id: 'launcher',\n          type: 'AppLauncher',\n          name: 'Launcher',\n          background: true\n        },\n        // 'home-app': {\n        //   id: 'home-app',\n        //   type: 'IframeApp',\n        //   name: 'Onion Site',\n        //   icon: 'static/img/icons/home.svg',\n        //   params: {url: 'https://onion.io'}\n        // },\n        'doc-app': {\n          id: 'doc-app',\n          type: 'IframeApp',\n          name: 'Onion Docs',\n          icon: 'static/img/icons/docs.svg',\n          params: {\n            url: 'https://docs.onion.io',\n            internet: true\n          }\n        },\n        // 'nfc-rfid-app': {\n        //   id: 'nfc-rfid-app',\n        //   type: 'IframeApp',\n        //   name: 'NFC-RFID Expansion',\n        //   icon: 'static/img/icons/nfc-rfid-app.svg',\n        //   params: {url: '/apps/nfc-rfid-exp'}\n        //   // params: {url: 'http://localhost:8081'}\n        // },\n        'terminal-app': {\n          id: 'terminal-app',\n          type: 'IframeApp',\n          name: 'Terminal',\n          icon: 'static/img/icons/terminal.svg',\n          params: {url: `http://${devMode ? devHost : window.location.hostname}:4200`}\n        },\n        'editor-app': {\n          id: 'editor-app',\n          type: 'IframeApp',\n          name: 'Code Editor',\n          icon: 'static/img/icons/code.svg',\n          params: {url: `${devMode ? 'http://' + devHost : ''}` + '/apps/editor/'}\n        }\n        // 'legacy-console-app': {\n        //   id: 'legacy-console-app',\n        //   type: 'ExternalApp',\n        //   name: 'Legacy Console',\n        //   icon: 'static/img/icons/old-console-app.svg',\n        //   params: {url: '/console'}\n        // }\n        // 'preferences-app': {\n        //   id: 'preferences-app',\n        //   type: 'PreferencesApp',\n        //   name: 'Preferences',\n        //   icon: 'static/img/icons/preference.svg'\n        // }\n        // 'file-browser-app': {\n        //   id: 'file-browser-app',\n        //   type: 'IframeApp',\n        //   name: 'Tiny File Manager',\n        //   icon: 'static/img/icons/folder.svg',\n        //   params: {url: 'http://omega-2767.local/tinyfilemanager.php'}\n        // },\n        // 'cron-manager-app': {\n        //   id: 'cron-manager-app',\n        //   type: 'IframeApp',\n        //   name: 'Cron Task Manager',\n        //   icon: 'static/img/icons/tasks.svg',\n        //   params: {url: 'http://omega-2767.local/CronWeb/#new'}\n        // },\n        // 'log-viewer-app': {\n        //   id: 'log-viewer-app',\n        //   type: 'IframeApp',\n        //   name: 'Log Viewer',\n        //   icon: 'static/img/icons/log.svg',\n        //   params: {url: 'http://omega-2767.local/tail/Log.php'}\n        // }\n      }\n    }\n  },\n  // functions that change the state - must be synchronous\n  mutations: {\n    registerUser (state, {username, password}) {\n      state.rpc.username = username\n      state.rpc.password = password\n    },\n    registerSession (state, token) {\n      if (token) {\n        state.rpc.token = token\n        sessionStorage.setItem('_onion_console_session_token', token)\n      } else {\n        state.rpc.token = defaultToken\n        sessionStorage.removeItem('_onion_console_session_token')\n      }\n    },\n    registerAppHandler (state, appId, callback) {\n\n    },\n    launchApp (state, appId) {\n      var app = state.apps.available[appId]\n\n      var appExist = false\n      for (var i = 0; i < state.apps.running.length; i++) {\n        var runningApp = state.apps.running[i]\n        if (runningApp.id === app.id) {\n          appExist = true\n          break\n        }\n      }\n\n      if (!appExist) {\n        state.apps.running.push(app)\n        if (app.type !== 'IframeApp') {\n          Vue.component(app.type, () => import('@/components/' + app.type))\n        }\n      }\n      state.apps.active = appId\n    },\n    closeApp (state, appId) {\n      for (var i = 0; i < state.apps.running.length; i++) {\n        var runningApp = state.apps.running[i]\n        if (runningApp.id === appId) {\n          state.apps.running.splice(i, 1)\n          break\n        }\n      }\n    },\n    updateInternetStatus (state, isOnline) {\n      state.system.online = isOnline\n    },\n    mqttSubscribe (state, {appUid, topic}) {\n      if (topic in state.mqtt.subscription) {\n        state.mqtt.subscription[topic].push(appUid)\n      } else {\n        state.mqtt.subscription[topic] = [appUid]\n      }\n    },\n    deviceInfo (state, device) {\n      state.device = device\n    },\n    updateAppList (state, apps) {\n      for (var i = 0; i < apps.length; i++) {\n        var app = apps[i]\n        app.type = app.type || 'IframeApp'\n        app.icon = 'http://' + hostName + appPath + app.id + '/' + app.icon\n\n        app.params = app.params || {}\n        if (app.type === 'IframeApp' && app.params.url === undefined) {\n          app.params.url = 'http://' + hostName + appPath + app.id\n        }\n        // app.params.url = app.params.url.replace('http://', '')\n        app.params.url = app.params.url.replace('{{host}}', hostName)\n        Vue.set(state.apps.available, app.id, app)\n      }\n\n      // Include Construction Site App in Dev Model\n      if (devMode) {\n        Vue.set(state.apps.available, 'construction-site',\n          {\n            id: 'construction-site',\n            type: 'IframeApp',\n            name: 'Site 8081',\n            icon: 'static/img/icons/crane.svg',\n            params: {url: 'http://localhost:8081'}\n          })\n      }\n    }\n  },\n  // functions that commit mutations - can be asynchronous\n  actions: {\n    login ({commit, state, dispatch}, {username, password}) {\n      return new Promise(function (resolve, reject) {\n        ubus.request(\n          state.rpc.url,\n          state.rpc.token,\n          'session',\n          'login',\n          {\n            'username': username,\n            'password': password\n          }\n        )\n          .then(resp => {\n            // login success\n            // console.log('login success:', resp)\n            commit('registerUser', {\n              'username': username,\n              'password': password\n            })\n            commit('registerSession', resp.ubus_rpc_session)\n            dispatch('getDeviceInfo')\n            dispatch('refreshAppList')\n            dispatch('startHeartbeat')\n            resolve(resp)\n          })\n          .catch(resp => {\n            console.log('login failed')\n            reject(resp)\n          })\n      })\n    },\n    logout ({commit}) {\n      commit('registerUser', {\n        'username': '',\n        'password': ''\n      })\n      commit('registerSession', null)\n    },\n    getDeviceInfo ({commit, state, dispatch, getters}) {\n      if (!getters.isAuthenticated) { return }\n\n      dispatch('request', {\n        object: 'system',\n        method: 'board',\n        params: {}\n      }).then(resp => {\n        commit('deviceInfo', resp)\n      })\n    },\n    request ({commit, state, dispatch, getters}, {object, method, params}) {\n      // TODO: check if authenticated\n      return new Promise(function (resolve, reject) {\n        if (getters.isAuthenticated) {\n          ubus.request(\n            state.rpc.url,\n            state.rpc.token,\n            object,\n            method,\n            params\n          )\n            .then(resp => {\n              // request success\n              resolve(resp)\n            })\n            .catch(resp => {\n              // request failed\n              console.log(resp)\n              if (resp && resp.code === ubus.errorCode.AccessDenied) {\n                dispatch('logout')\n                console.log('Session expired')\n              }\n              reject(resp)\n            })\n        } else {\n          reject(Error('Not authenticated'))\n        }\n      })\n    },\n    launchApp ({commit}, {appId}) {\n      commit('launchApp', appId)\n    },\n    closeApp ({commit, state}, {appId}) {\n      commit('closeApp', appId)\n      commit('launchApp', 'launcher')\n    },\n    notifyApp ({commit}, {appUid, eventId, data}) {\n      console.log('on notify app')\n      var event = new Event(`app-${appUid}`)\n      event.data = {\n        content: data\n      }\n      event.name = eventId\n      window.dispatchEvent(event)\n    },\n    checkInternet ({commit}) {\n      isOnline().then(online => {\n        commit('updateInternetStatus', online)\n      })\n    },\n    initCDK ({dispatch}) {\n      window.addEventListener('message', function (e) {\n        var data = e.data\n        if (typeof data.event !== 'undefined' &&\n            typeof data.instance !== 'undefined' &&\n            typeof data.eventId !== 'undefined' &&\n            typeof data.content !== 'undefined'\n        ) {\n          if (data.event.indexOf('Onion.CDK') > -1) {\n            // debug\n            // console.toast('test toast')\n            var requestType = data.event.replace('Onion.CDK.', '')\n            switch (requestType) {\n              case 'Service':\n                dispatch('handleService', (data))\n                  .then(resp => {\n                    var event = new Event(`app-${data.instance}`)\n                    event.data = {\n                      content: {\n                        command: data.content.command,\n                        name: data.content.service,\n                        result: resp\n                      }\n                    }\n                    event.name = data.event\n                    window.dispatchEvent(event)\n                  })\n                break\n              case 'Subscribe':\n                dispatch('mqttSubscribe', {\n                  topic: data.content.topic,\n                  appUid: data.instance\n                })\n                break\n              case 'Command':\n                var eventId = 'Onion.CDK.Command'\n                dispatch('handleCommand', {cmd: data.content.cmd, params: data.content.params})\n                  .then(resp => {\n                    dispatch('notifyApp', {appUid: data.instance, eventId: eventId, data: {cmd: data.content.cmd, resp: resp.stdout}})\n                  })\n                break\n              case 'Toast':\n                console.toast(data.content.message)\n                break\n              default:\n                console.log('unrecognized CDK event: ' + data.event)\n                break\n            }\n          }\n        }\n      }, false)\n    },\n    handleService: function ({dispatch}, data) {\n      return new Promise(function (resolve, reject) {\n        if (data.content.command === 'start' || data.content.command === 'stop') {\n          dispatch('request', {\n            object: 'file',\n            method: 'exec',\n            params: {\n              command: '/etc/init.d/' + data.content.service,\n              params: [\n                data.content.command\n              ]\n            }\n          })\n            .then(resp => {\n              // console.log('Service ' + data.content.service + ' accepted ' + data.content.command + ' command')\n              resolve(true)\n            })\n            .catch(resp => {\n              // console.log('Service start failed!')\n              resolve(false)\n            })\n        } else if (data.content.command === 'list') {\n          dispatch('serviceStatus')\n            .then(resp => {\n              // console.log(resp)\n              if (resp[data.content.service]) {\n                resolve(true)\n              } else {\n                resolve(false)\n              }\n            })\n        } else {\n          reject(Error('Invalid input'))\n        }\n      })\n    },\n    serviceStatus ({dispatch}) {\n      return dispatch('request', {\n        object: 'service',\n        method: 'list',\n        params: {}\n      })\n    },\n    handleCommand ({dispatch}, {cmd, params}) {\n      console.log('handle Command')\n      return dispatch('request', {\n        object: 'file',\n        method: 'exec',\n        params: {command: cmd, params: params}\n      })\n    },\n    mqttSubscribe ({commit, dispatch}, {appUid, topic}) {\n      commit('mqttSubscribe', {appUid, topic})\n    },\n    mqttMessage ({state}, {topic, data}) {\n      if (topic in state.mqtt.subscription) {\n        for (var appUid of state.mqtt.subscription[topic]) {\n          var event = new Event(`app-${appUid}`)\n          event.data = {\n            content: {\n              topic: topic,\n              content: data.toString()\n            }\n          }\n          event.name = 'Onion.CDK.Message'\n          window.dispatchEvent(event)\n        }\n      }\n    },\n    refreshAppList ({getters, commit, dispatch}) {\n      if (!getters.isAuthenticated) { return }\n      dispatch('request', {\n        object: 'onion-os',\n        method: 'app-list',\n        params: {}\n      }).then(resp => {\n        if (resp.exists) {\n          commit('updateAppList', resp.apps)\n        }\n      })\n    },\n    startHeartbeat ({state, dispatch}) {\n      // console.log('startHeartbeat')\n      if (state.rpc.heartbeatHandel) {\n        clearInterval(state.rpc.heartbeatHandel)\n        state.rpc.heartbeatHandel = null\n      }\n      state.rpc.heartbeatHandel = setInterval(function () {\n        dispatch('request', {\n          object: 'session',\n          method: 'access',\n          params: {}\n        })\n      }, 60000)\n    }\n  },\n  // provide access to state objects\n  getters: {\n    isAuthenticated (state) {\n      return (state.rpc.token !== defaultToken)\n    },\n    isOnline (state) {\n      return state.system.online\n    },\n    sessionToken (state) {\n      return state.rpc.token\n    },\n    requestUrl (state) {\n      return state.rpc.url\n    },\n    activeApp (state) {\n      return state.apps.active\n    },\n    runningApps (state) {\n      var result = []\n      for (var i = 0; i < state.apps.running.length; i++) {\n        var app = state.apps.running[i]\n        if (app.background === undefined) {\n          result.push(app)\n        }\n      }\n      return result\n    },\n    availableApps (state) {\n      var result = []\n      for (var a in state.apps.available) {\n        var app = state.apps.available[a]\n        if (app.background === undefined) {\n          result.push(app)\n        }\n      }\n      return result\n    },\n    deviceInfo (state) {\n      // console.log(state.device)\n      return state.device\n    }\n  }\n})\n\nexport default store\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","<template>\n  <div id=\"app\">\n    <ConsoleFrame/>\n  </div>\n</template>\n\n<script>\nimport ConsoleFrame from '@/components/ConsoleFrame'\n\nexport default {\n  name: 'App',\n  components: {\n    ConsoleFrame\n  },\n  created () {\n    // this.$store.dispatch('login')\n  }\n}\n</script>\n\n<style>\n#app {\n  height: 100%;\n}\n\nbody{\n  height: 100vh;\n  margin: 0;\n  padding: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('ConsoleFrame')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3671f712\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3671f712\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3671f712\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\n// import '@mdi/font/css/materialdesignicons.min.css'\nimport 'spectre.css/dist/spectre.min.css'\nimport 'spectre.css/dist/spectre-icons.min.css'\n// import 'spectre.css/dist/sspectre-exp.min.css'\nimport VueMqtt from 'vue-mqtt'\n\nimport store from './store'\nimport App from './App'\n\nimport VueAnalytics from 'vue-analytics'\n\n// import { Analytics } from 'aws-amplify'\n// import AwsExports from './app-config/aws-exports'\n// Analytics.configure(AwsExports)\n\nVue.config.productionTip = false\n\nvar devMode = process.env.NODE_ENV === 'development'\nvar devHost = process.env.DEV_HOST\n\nVue.use(VueMqtt, `ws://${devMode ? devHost : window.location.hostname}:9001`)\nVue.use(VueAnalytics, {id: 'UA-48382427-15'})\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n  <div class=\"modal modal-sm\" :class=\"{active: active}\">\n  <a class=\"modal-overlay\" @click=\"close\" ></a>\n  <div class=\"modal-container\">\n    <div class=\"modal-header\">\n      <a class=\"btn btn-clear float-right\" @click=\"close\"></a>\n      <!-- <div class=\"modal-title h5\">About</div> -->\n    </div>\n    <div class=\"modal-body\">\n      <div class=\"content\">\n        <!-- content here -->\n        <div class=\"about-image\">\n          <img src=\"static/img/OnionOS.svg\" alt=\"\">\n        </div>\n\n        <div class=\"about-text\">\n          OS version: 1.0\n          <br>\n          Kernel: {{$store.getters.deviceInfo.kernel}}\n          <br>\n          <br>\n          Device: {{$store.getters.deviceInfo.hostname}}\n          <br>\n          Model: {{$store.getters.deviceInfo.model}}\n        </div>\n\n      </div>\n    </div>\n    <div class=\"modal-footer\">\n      &copy; 2018 Onion Corpration All Rights Reserved.\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nexport default {\n  name: 'About',\n  props: {\n    active: true\n  },\n  methods: {\n    close () {\n      this.$emit('close')\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n.about-text {\n  text-align: center;\n  font-size: 0.8em;\n}\n\n.about-image {\n  display: flex;\n  justify-content: center;\n}\n\n.about-image img {\n  width: 200px;\n  height: 200px;\n}\n\n.modal-footer {\n  text-align: center;\n  color: #bdc3c7;\n  font-size: 0.5em;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/About.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal modal-sm\",class:{active: _vm.active}},[_c('a',{staticClass:\"modal-overlay\",on:{\"click\":_vm.close}}),_vm._v(\" \"),_c('div',{staticClass:\"modal-container\"},[_c('div',{staticClass:\"modal-header\"},[_c('a',{staticClass:\"btn btn-clear float-right\",on:{\"click\":_vm.close}})]),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"content\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"about-text\"},[_vm._v(\"\\n          OS version: 1.0\\n          \"),_c('br'),_vm._v(\"\\n          Kernel: \"+_vm._s(_vm.$store.getters.deviceInfo.kernel)+\"\\n          \"),_c('br'),_vm._v(\" \"),_c('br'),_vm._v(\"\\n          Device: \"+_vm._s(_vm.$store.getters.deviceInfo.hostname)+\"\\n          \"),_c('br'),_vm._v(\"\\n          Model: \"+_vm._s(_vm.$store.getters.deviceInfo.model)+\"\\n        \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer\"},[_vm._v(\"\\n      © 2018 Onion Corpration All Rights Reserved.\\n    \")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about-image\"},[_c('img',{attrs:{\"src\":\"static/img/OnionOS.svg\",\"alt\":\"\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-246997fc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/About.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-246997fc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./About.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./About.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./About.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-246997fc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./About.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-246997fc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/About.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"toastPanel\">\n    <transition-group name=\"list\">\n      <div v-for=\"(toast, index) in toastList\" class=\"toast toast-item\" :key=\"toast.id\" >\n        <button class=\"btn btn-clear float-right\" @click=\"close(index)\"></button>\n        <h6 v-if=\"toast.title\">Title</h6>\n        {{toast.message}}\n        <div class=\"bar bar-sm\">\n          <div class=\"bar-item\" :style=\"{width: toast.value+'%'}\"></div>\n        </div>\n      </div>\n    </transition-group>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Toast',\n  data () {\n    return {\n      toastList: []\n    }\n  },\n  props: {\n    timeout: {\n      type: Number,\n      default: 10 // Toast Timeout in Sec\n    }\n  },\n  created: function () {\n    window.console.toast = this.makeToast\n  },\n  methods: {\n    makeId: function () {\n      return Math.random().toString(36).substring(2)\n    },\n    makeToast: function (message, title) {\n      var t = { title: title, message: message, id: this.makeId(), value: 100 }\n      this.toastList.push(t)\n\n      // Automatic Toast timeout timer\n      var intervalHandel = setInterval(function () {\n        var selectedIndex = this.toastList.indexOf(t)\n        if (selectedIndex === -1) {\n          // Toast has been closed by the user\n          clearInterval(intervalHandel)\n          return\n        }\n        var selectedToast = this.toastList[selectedIndex]\n        selectedToast.value -= 1\n        if (selectedToast.value <= 0) {\n          clearInterval(intervalHandel)\n          this.close(selectedIndex)\n        }\n      }.bind(this), this.timeout * 1000 / 100)\n      // Divide total ms by 100% = n ms / tick\n    },\n    close: function (index) {\n      this.toastList.splice(index, 1)\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n.toastPanel{\n  display: block;\n  position: absolute;\n  right: 10px;\n  top: 0;\n  width: 320px;\n  z-index: 500;\n\n  -webkit-transition: all 0.2s; /* For Safari 3.1 to 6.0 */\n  transition: all 0.2s;\n}\n\n.toast {\n  margin-top: 10px;\n}\n\n.list-enter-active, .list-leave-active {\n  transition: all 1s;\n}\n\n.list-enter, .list-leave-to /* .list-leave-active below version 2.1.8 */ {\n  opacity: 0;\n  transform: translateX(30px);\n}\n\n.bar-item {\n  /* to smooth out the animation */\n  -webkit-transition: all 0.2s;\n  transition: all 0.2s;\n  background-color: #48dbfb;\n  left: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Toast.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"toastPanel\"},[_c('transition-group',{attrs:{\"name\":\"list\"}},_vm._l((_vm.toastList),function(toast,index){return _c('div',{key:toast.id,staticClass:\"toast toast-item\"},[_c('button',{staticClass:\"btn btn-clear float-right\",on:{\"click\":function($event){_vm.close(index)}}}),_vm._v(\" \"),(toast.title)?_c('h6',[_vm._v(\"Title\")]):_vm._e(),_vm._v(\"\\n      \"+_vm._s(toast.message)+\"\\n      \"),_c('div',{staticClass:\"bar bar-sm\"},[_c('div',{staticClass:\"bar-item\",style:({width: toast.value+'%'})})])])}))],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f4677de0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Toast.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f4677de0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Toast.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Toast.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Toast.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f4677de0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Toast.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f4677de0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Toast.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"appview\">\n    <component\n      v-for=\"app in $store.state.apps.running\"\n      :is=\"app.type\"\n      :key=\"app.id\"\n      :params=\"app.params\"\n      v-show=\"app.id === $store.state.apps.active\"\n    >\n    </component>\n\n  </div>\n\n</template>\n\n<script>\n\nimport IframeApp from '@/components/IframeApp'\n\nexport default {\n  name: 'AppView',\n  components: {\n    IframeApp\n  },\n  data () {\n    return {\n    }\n  },\n  methods: {\n    closeApp: function (appId) {\n\n    }\n  }\n}\n</script>\n\n<style scoped>\n.appview{\n  flex: 1;\n  text-align: center;\n  height: 100%;\n  overflow: hidden;\n}\n\niframe{\n  margin: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/AppView.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"appview\"},_vm._l((_vm.$store.state.apps.running),function(app){return _c(app.type,{directives:[{name:\"show\",rawName:\"v-show\",value:(app.id === _vm.$store.state.apps.active),expression:\"app.id === $store.state.apps.active\"}],key:app.id,tag:\"component\",attrs:{\"params\":app.params}})}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-60532d25\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/AppView.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-60532d25\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AppView.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AppView.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AppView.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-60532d25\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./AppView.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-60532d25\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/AppView.vue\n// module id = null\n// module chunks = ","<template>\n\n  <div class=\"modal modal-sm\" :class=\"{active: !$store.getters.isAuthenticated}\" >\n    <div class=\"modal-container\">\n\n      <!-- Header -->\n      <div class=\"modal-header\">\n        <img  src=\"static/img/OnionOS.svg\">\n      </div>\n\n      <!-- Body -->\n      <div class=\"modal-body\" @keyup.enter=\"login\">\n        <div class=\"form-group\">\n          <label class=\"form-label\" for=\"input-username\">Username</label>\n          <input class=\"form-input\" type=\"text\" id=\"input-username\" v-model=\"username\">\n        </div>\n        <div class=\"form-group\">\n          <label class=\"form-label\" for=\"input-password\">Password</label>\n          <input class=\"form-input\" type=\"password\" id=\"input-password\" v-model=\"password\">\n        </div>\n      </div>\n\n      <!-- Footer -->\n      <div class=\"modal-footer\">\n        <button class=\"btn btn-success loginButton\" @click=\"login\">Login</button>\n      </div>\n    </div>\n  </div>\n\n</template>\n\n<script>\nexport default {\n  name: 'LoginView',\n  data () {\n    return {\n      username: '',\n      password: ''\n    }\n  },\n  methods: {\n    login: function () {\n      this.$store.dispatch('login', {username: this.username, password: this.password})\n    }\n  }\n}\n</script>\n\n<style scoped>\n.modal {\n  background-image: url(\"~@/assets/img/bg.jpg\");\n  background-size: cover;\n}\n\n.modal-header {\n  display: flex;\n  justify-content: center;\n  padding-bottom: 0;\n}\n\n.modal-header img {\n  width: 150px;\n  height: 150px;\n}\n\n.loginButton {\n  width: 100%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/LoginView.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal modal-sm\",class:{active: !_vm.$store.getters.isAuthenticated}},[_c('div',{staticClass:\"modal-container\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\",on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"input-username\"}},[_vm._v(\"Username\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],staticClass:\"form-input\",attrs:{\"type\":\"text\",\"id\":\"input-username\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"input-password\"}},[_vm._v(\"Password\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"form-input\",attrs:{\"type\":\"password\",\"id\":\"input-password\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-success loginButton\",on:{\"click\":_vm.login}},[_vm._v(\"Login\")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('img',{attrs:{\"src\":\"static/img/OnionOS.svg\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d05598a4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/LoginView.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d05598a4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./LoginView.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./LoginView.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./LoginView.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d05598a4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./LoginView.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d05598a4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/LoginView.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"frameview\">\n\n    <div class=\"empty\"\n      v-if=\"!$store.getters.isOnline && params.internet\"\n    >\n      <div class=\"empty-icon\">\n        <i class=\"icon icon-cross\"></i>\n      </div>\n      <p class=\"empty-title h5\">This App require an Internet Connection</p>\n      <p class=\"empty-subtitle\">Please make sure your computer is connected to the Internet</p>\n    </div>\n\n    <iframe\n    :src=\"params.url\"\n    width=\"100%\"\n    height=\"100%\"\n    frameBorder=\"0\"\n    v-if=\"!(!$store.getters.isOnline && params.internet)\"\n    :ref=\"AppUid\"\n    @load=\"onLoad\"\n    ></iframe>\n  </div>\n\n</template>\n\n<script>\nexport default {\n  name: 'IframeApp',\n  data () {\n    return {\n      AppUid: console.makeId()\n    }\n  },\n  computed: {\n    listenerUid: function () {\n      return `app-${this.AppUid}`\n    }\n  },\n  props: {\n    params: {},\n    loaded: false\n  },\n  methods: {\n    onLoad: function () {\n      var iframe = this.$refs[this.AppUid]\n\n      // this.$store.dispatch('mqttSubscribe', {topic: '/console/rfid', appUid: this.AppUid})\n      // setup the listener for sending messages to this app\n      // console.log('creating new event ' + this.listenerUid)\n      window.addEventListener(this.listenerUid, function (e) {\n        iframe.contentWindow.postMessage({\n          event: e.name,\n          content: e.data.content\n        }, '*')\n      }, false)\n      // init the app\n      iframe.contentWindow.postMessage({\n        event: 'Onion.CDK.Init',\n        appUid: this.AppUid\n      }, '*')\n    }\n  },\n  created: function () {\n    console.log('created')\n  }\n}\n</script>\n\n<style scoped>\n.frameview{\n  flex: 1%;\n  height: 100%;\n  overflow: hidden;\n}\n\n.empty{\n  height: 100%;\n}\n\n.empty-icon i{\n  font-size: 2em;\n  font-weight: bold;\n  color: white;\n  background-color: #f39c12;\n  padding: 30px;\n  border-radius: 50%;\n}\n\niframe{\n  margin: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/IframeApp.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"frameview\"},[(!_vm.$store.getters.isOnline && _vm.params.internet)?_c('div',{staticClass:\"empty\"},[_vm._m(0),_vm._v(\" \"),_c('p',{staticClass:\"empty-title h5\"},[_vm._v(\"This App require an Internet Connection\")]),_vm._v(\" \"),_c('p',{staticClass:\"empty-subtitle\"},[_vm._v(\"Please make sure your computer is connected to the Internet\")])]):_vm._e(),_vm._v(\" \"),(!(!_vm.$store.getters.isOnline && _vm.params.internet))?_c('iframe',{ref:_vm.AppUid,attrs:{\"src\":_vm.params.url,\"width\":\"100%\",\"height\":\"100%\",\"frameBorder\":\"0\"},on:{\"load\":_vm.onLoad}}):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"empty-icon\"},[_c('i',{staticClass:\"icon icon-cross\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cf53b736\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/IframeApp.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cf53b736\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./IframeApp.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./IframeApp.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./IframeApp.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cf53b736\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./IframeApp.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cf53b736\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/IframeApp.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}